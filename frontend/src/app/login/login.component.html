<div class="login-container">
  <div class="background-shapes">
    <div class="shape1"></div>
    <div class="shape2"></div>
    <div class="shape3"></div>
  </div>

  <div class="login-card">
    <div class="header">
      <div class="logo">
        <div class="logo-icon">ğŸ’ª</div>
        <div class="logo-text">
          <h1>GymBucket</h1>
          <p>System zarzÄ…dzania dla trenerÃ³w</p>
        </div>
      </div>
    </div>

    <!-- Login Form -->
    <div *ngIf="!showForgotPassword" class="form-container">
      <div class="welcome">
        <h2>Witaj z powrotem!</h2>
        <p>Zaloguj siÄ™, aby zarzÄ…dzaÄ‡ swoimi klientami</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form">
        <div class="input-group">
          <label for="email" class="label">Adres Email</label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ“§</span>
            <input
              id="email"
              type="email"
              placeholder="WprowadÅº swÃ³j email"
              formControlName="email"
              [class]="'input ' +
                (hasError('email') ? 'input-error' : '') +
                (isFieldValid('email') ? ' input-valid' : '')"
            />
            <span *ngIf="isFieldValid('email')" class="valid-icon">âœ…</span>
          </div>
          <span *ngIf="hasError('email')" class="error-message">
            {{ getErrorMessage('email') }}
          </span>
        </div>

        <div class="input-group">
          <label for="password" class="label">HasÅ‚o</label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ”’</span>
            <input
              id="password"
              [type]="showPassword ? 'text' : 'password'"
              placeholder="WprowadÅº swoje hasÅ‚o"
              formControlName="password"
              [class]="'input ' +
                (hasError('password') ? 'input-error' : '') +
                (isFieldValid('password') ? ' input-valid' : '')"
            />
            <button
              type="button"
              class="password-toggle"
              (click)="togglePasswordVisibility()"
            >
              {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
            </button>
            <span *ngIf="isFieldValid('password')" class="valid-icon">âœ…</span>
          </div>
          <span *ngIf="hasError('password')" class="error-message">
            {{ getErrorMessage('password') }}
          </span>
        </div>

        <div class="form-options">
          <label class="checkbox">
            <input type="checkbox" formControlName="rememberMe" />
            <span class="checkmark"></span>
            ZapamiÄ™taj mnie
          </label>
          <button type="button" class="forgot-password" (click)="toggleForgotPassword()">
            ZapomniaÅ‚eÅ› hasÅ‚a?
          </button>
        </div>

        <div *ngIf="loginError" class="error-alert">
          {{ loginError }}
        </div>

        <div *ngIf="forgotPasswordSent" class="success-alert">
          ğŸ“§ Link do resetowania hasÅ‚a zostaÅ‚ wysÅ‚any na TwÃ³j email
        </div>

        <button
          type="submit"
          [disabled]="isLoading"
          [class]="'submit-button ' + (isLoading ? 'loading' : '')"
        >
          <span *ngIf="isLoading" class="loading-spinner"></span>
          <span *ngIf="!isLoading">
            Zaloguj siÄ™
            <span class="arrow">â†’</span>
          </span>
        </button>
      </form>

      <div class="demo-credentials">
        <p>ğŸ¯ Dane demo:</p>
        <div class="credentials" (click)="fillDemoCredentials()">
          <span>Email: a&#64;a.com</span>
          <span>HasÅ‚o: 2137</span>
        </div>
        <small>Kliknij aby wypeÅ‚niÄ‡ automatycznie</small>
      </div>

      <div class="footer">
        <p>
          Nie masz konta?
          <button type="button" class="signup-link" (click)="goToRegister()">
            Zarejestruj siÄ™ za darmo
          </button>
        </p>
      </div>
    </div>

    <!-- Forgot Password Form -->
    <div *ngIf="showForgotPassword" class="form-container">
      <div class="welcome">
        <h2>Zresetuj hasÅ‚o</h2>
        <p>WprowadÅº swÃ³j email, a wyÅ›lemy Ci link do resetowania hasÅ‚a</p>
      </div>

      <div class="form">
        <div class="input-group">
          <label for="forgot-email" class="label">Adres Email</label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ“§</span>
            <input
              id="forgot-email"
              type="email"
              placeholder="WprowadÅº swÃ³j email"
              [(ngModel)]="forgotPasswordEmail"
              class="input"
            />
          </div>
        </div>

        <div *ngIf="loginError" class="error-alert">
          {{ loginError }}
        </div>

        <button
          type="button"
          [disabled]="isLoading"
          [class]="'submit-button ' + (isLoading ? 'loading' : '')"
          (click)="onForgotPassword()"
        >
          <span *ngIf="isLoading" class="loading-spinner"></span>
          <span *ngIf="!isLoading">
            WyÅ›lij link resetujÄ…cy
            <span class="arrow">â†’</span>
          </span>
        </button>

        <button
          type="button"
          class="back-to-login"
          (click)="toggleForgotPassword()"
        >
          â† PowrÃ³t do logowania
        </button>
      </div>
    </div>
  </div>

  <div class="features-panel">
    <div class="features-content">
      <h3>ZarzÄ…dzaj swoim biznesem fitness</h3>
      <div class="features-list">
        <div class="feature">
          <div class="feature-icon">ğŸ“Š</div>
          <div>
            <h4>ZarzÄ…dzanie klientami</h4>
            <p>ÅšledÅº postÄ™py i rozwijaj bazÄ™ klientÃ³w</p>
          </div>
        </div>
        <div class="feature">
          <div class="feature-icon">ğŸ’ª</div>
          <div>
            <h4>Plany treningowe</h4>
            <p>TwÃ³rz spersonalizowane programy Ä‡wiczeÅ„</p>
          </div>
        </div>
        <div class="feature">
          <div class="feature-icon">ğŸ¥—</div>
          <div>
            <h4>Plany Å¼ywieniowe</h4>
            <p>Projektuj jadÅ‚ospisy i monitoruj odÅ¼ywianie</p>
          </div>
        </div>
        <div class="feature">
          <div class="feature-icon">ğŸ“…</div>
          <div>
            <h4>Kalendarz</h4>
            <p>Åatwo zarzÄ…dzaj terminami i sesjami</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
